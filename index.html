<!DOCTYPE html>
<html>
 <head>
 	<meta charset="UTF-8" />
 	<meta name="viewport" content="width=device-width, initial-scale=1">
 	<title>Aarrejahti Jyväskylä</title>
 	<link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css" type="text/css">
 	<script type="text/javascript" src="js/jquery.js"></script>
 	<script type="text/javascript" src="js/app.js"></script>
 	<script type="text/javascript" src="js/jquery.mobile-1.3.1.min.js"></script>
 	<script type="text/javascript" src="cordova.js"></script>
 	<link rel="stylesheet" href="css/app.css" type="text/css">

 <script type="text/javascript" charset="utf-8">
    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);
    // device APIs are available
    //
    function onDeviceReady() {
    	var options = {maximumAge: 0, timeout: 10000, enableHighAccuracy:true};
        navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
    }
    // onSuccess Geolocation
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        var date = new Date(position.timestamp*1000);
		// hours part from the timestamp
		var hours = date.getHours();
		// minutes part from the timestamp
		var minutes = date.getMinutes();
		// seconds part from the timestamp
		var seconds = date.getSeconds();

        element.innerHTML = '<span id="latval" class="highlight">Latitude:</span> ' + position.coords.latitude + '<br />' +
                            '<span id="lonval" class="highlight">Longitude:</span> ' + position.coords.longitude + '<br />' +
                            '<span class="highlight">Aika:</span> ' + hours + ':' + minutes + ':' + seconds + '<br />';
    }

    // onError Callback receives a PositionError object
    //
    function onError(error) {
        alert('Errorkoodi: '    + error.code    + '\n' +
              'Virheviesti: ' + error.message + '\n');
    }

    var btn = document.getElementById('checkLocation');
	btn.onclick = function(){
		var userLat = document.getElementById('latval').value;
		var userLon = document.getElementById('lonval').value;
		if ( (userLat == 62.2437494) && (userLon == 25.7644926) ) {
			document.getElementById('checkedlocation');.innerHTML = 'YAYYYY!!!';
		}
		else document.getElementById('checkedlocation');.innerHTML = 'Etsiskelehän vielä.';
	}
    </script>


 </head>
 <body>

 	<div data-role="page" id="home">
 		<div data-role="header">
 			<h1>Aarrejahti Jyväskylä</h1>
 		</div>
 		<div data-role="content">
 			<p id="geolocation">Etsitään sijaintia...</p>
 			<a href="#" id="checkLocation" data-role="button">Tarkista sijainti</a>
 			<p id="checkedlocation">...</p>
 		</div>
 		<div data-role="footer" data-position="fixed">
 			<h1>&copy; Satu Tyrväinen 2013</h1>
 		</div>
 	</div>


 </body>
</html>