<!DOCTYPE html>
<html>
 <head>
 	<meta charset="UTF-8" />
 	<meta name="viewport" content="width=device-width, initial-scale=1">
 	<title>Aarrejahti Jyväskylä</title>
 	<link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css" type="text/css">
 	<script type="text/javascript" src="js/jquery.js"></script>
 	<script type="text/javascript" src="js/app.js"></script>
 	<script type="text/javascript" src="js/jquery.mobile-1.3.1.min.js"></script>
 	<script type="text/javascript" src="cordova.js"></script>
 	<link rel="stylesheet" href="css/app.css" type="text/css">

 <script type="text/javascript" charset="utf-8">
    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);
    // device APIs are available
    //
    function onDeviceReady() {
    	var options = {maximumAge: 0, timeout: 10000, enableHighAccuracy:true};
        navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
    }
    // onSuccess Geolocation
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        var displat = document.getElementById('latval');
        var displon = document.getElementById('lonval');

        element.innerHTML = 'Paikannettu!';
        displat.innerHTML = position.coords.latitude;
        displon.innerHTML = position.coords.longitude;
    }

    // onError Callback receives a PositionError object
    //
    function onError(error) {
        alert('Errorkoodi: '    + error.code    + '\n' +
              'Virheviesti: ' + error.message + '\n');
    }
    </script>


 </head>
 <body>

 	<div data-role="page" id="home">
 		<div data-role="header">
 			<h1>Aarrejahti Jyväskylä</h1>
 		</div>
 		<div data-role="content">
 			<p id="geolocation">Etsitään sijaintia...</p>
 			<span class="highlight">Latitude:</span> <span id="latval">?</span>
 			<br>
 			<span class="highlight">Longitude:</span> <span id="lonval">?</span>
 			<br>
 			<button id="checkLocation">Tarkista sijainti</button>
 			<p id="checkedLocation">...</p>
 		</div>
 		<div data-role="footer" data-position="fixed">
 			<h1>&copy; Satu Tyrväinen 2013</h1>
 		</div>
 	</div>


 <script type="text/javascript">
 window.onload = function(){
    var btn = document.getElementById('checkLocation');
	btn.onclick = function(){
		var userLat = parseFloat(document.getElementById('latval').innerHTML);
		var userLon = parseFloat(document.getElementById('lonval').innerHTML);
		console.log(userLat);
		console.log(userLon);
		if ( (userLat == 62.2437494) && (userLon == 25.7644926) ) {
			document.getElementById('checkedLocation').innerHTML = 'YAYYYY!!!';
		}
		else {
			document.getElementById('checkedLocation').innerHTML = 'Etsiskelehän vielä.';
		}
	}
}
</script>

 </body>
</html>